<section class="page-hero mb-4 reveal">
  <div class="row g-3 align-items-center">
    <div class="col-lg-9">
      <h1 class="display-6 mb-2">Espace d'entraînement</h1>
      <p class="lead mb-0">Choisis un mode de test, renforce tes acquis et simule les conditions d'examen.</p>
    </div>
    <div class="col-lg-3 text-lg-end">
      <p class="page-tag mb-2">Entraînement</p>
      <a href="examens.html" class="btn btn-light btn-sm">Passer en mode examen</a>
    </div>
  </div>
</section>

<section class="mb-5 reveal reveal-delay-1">
  <h2 class="section-title h4 section-head"><span class="icon-badge">ST</span>Statistiques</h2>
  <div class="row g-3">
    <div class="col-6 col-lg-4">
      <div class="card h-100 kpi-card">
        <div class="card-body">
          <p class="kpi-label">Total QCM</p>
          <p class="kpi-value mb-0">{{statistics.totalQCM}}</p>
        </div>
      </div>
    </div>
    <div class="col-6 col-lg-4">
      <div class="card h-100 kpi-card">
        <div class="card-body">
          <p class="kpi-label">Catégories</p>
          <p class="kpi-value mb-0">{{statistics.themes}}</p>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="card h-100 kpi-card">
        <div class="card-body">
          <p class="kpi-label">Types de tests</p>
          <p class="kpi-value mb-0">{{statistics.typeOfTests}}</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="mb-5 reveal reveal-delay-2">
  <h2 class="section-title h4 section-head"><span class="icon-badge">MD</span>Modes d'entraînement</h2>
  <div class="row g-4">
    {{#trainingSessions}}
        <div class="col-md-6">
      <article class="card h-100 training-card" data-session="{{id}}" role="button" tabindex="0">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <span class="badge text-bg-light">{{type}}</span>
          </div>
          <h3 class="h5">{{name}}</h3>
          <p class="card-text mb-3">{{description}}</p>
          <button class="btn btn-primary btn-sm mt-auto align-self-start" data-session-start="{{id}}">
            Lancer ce mode
          </button>
        </div>
      </article>
    </div>
    {{/trainingSessions}}
  </div>
</section>

<section id="session-details" class="mb-5 reveal reveal-delay-3">
  <div class="card">
    <div class="card-body">
      <h2 class="h5 mb-2">Paramètres rapides</h2>
      <p class="text-muted mb-3">Choisis un module si nécessaire, puis lance ton entraînement.</p>
      <div class="row g-2 align-items-end">
        <div class="col-md-8">
          <label class="form-label" for="training-module-select">Module ciblé</label>
          <select class="form-select" id="training-module-select">
            <option value="">Tous les modules</option>
            {{#modules}}
            <option value="{{id}}">Module {{moduleNumber}} - {{name}}</option>
            {{/modules}}
          </select>
        </div>
        <div class="col-md-4 d-grid">
          <button class="btn btn-outline-primary" id="start-selected-mode-btn" disabled>Lancer le mode sélectionné</button>
        </div>
      </div>
      <div id="selected-mode-help" class="small text-muted mt-3 mb-0"></div>
    </div>
  </div>
</section>

<section class="alert alert-info mb-0 reveal reveal-delay-4">
  <h2 class="h5 alert-heading">Conseil de progression</h2>
  <p class="mb-0">Si tu débutes, commence par les <strong>tests thématiques</strong> puis bascule sur les séries aléatoires.</p>
</section>

<script id="training-sessions-data" type="application/json">{{{trainingSessionsJson}}}</script>
<script src="js/training.js"></script>
