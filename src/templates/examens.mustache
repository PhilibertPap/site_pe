<section class="page-hero mb-4 reveal">
    <div class="row g-3 align-items-center">
        <div class="col-lg-9">
            <h1 class="display-6 mb-2">Pont d'examen</h1>
            <p class="mb-0">Simule les conditions r√©elles : QCM chronom√©tr√©, erreurs limit√©es, navigation compl√®te.</p>
        </div>
        <div class="col-lg-3 text-lg-end">
            <p class="page-tag mb-2">üß≠ Simulation</p>
            <span class="badge text-bg-light">30 questions / 30 minutes</span>
        </div>
    </div>
</section>

<div class="alert alert-info reveal reveal-delay-1">
    <strong>Format r√©el :</strong> 30 questions QCM + 1 probl√®me de navigation/mar√©e.
</div>

<div class="row g-4 reveal reveal-delay-1">
    <section class="col-lg-8 reveal reveal-delay-2">
        <article class="card mb-4 reveal reveal-delay-2">
            <header class="card-header bg-primary text-white">
                <h2 class="h5 mb-0 section-head"><span class="icon-badge">üìù</span>Examen blanc complet</h2>
            </header>
            <div class="card-body">
                <p><strong>Dur√©e totale :</strong> environ 1h30.</p>
                <ul class="mb-4">
                    <li>Partie 1 : QCM 30 questions (5 fautes admises)</li>
                    <li>Partie 2 : probl√®me navigation + mar√©e</li>
                </ul>
                <button class="btn btn-primary btn-lg" id="start-full-exam-btn">D√©marrer l'examen complet</button>
            </div>
        </article>

        <article class="card mb-4 reveal reveal-delay-3">
            <header class="card-header bg-success text-white">
                <h2 class="h5 mb-0 section-head"><span class="icon-badge">‚ö°</span>QCM rapide</h2>
            </header>
            <div class="card-body">
                <p>R√©vise rapidement sur <strong>{{qcmQuestionCount}}</strong> questions.</p>
                <div class="row g-2 align-items-end">
                    <div class="col-md-8">
                        <label class="form-label" for="qcm-filter">Filtre par module</label>
                        <select class="form-select" id="qcm-filter">
                            <option value="">Tous les modules</option>
                            {{#modules}}
                            <option value="{{id}}">{{name}}</option>
                            {{/modules}}
                        </select>
                    </div>
                    <div class="col-md-4 d-grid">
                        <button class="btn btn-success" id="start-quick-qcm-btn">D√©marrer</button>
                    </div>
                </div>
            </div>
        </article>

        <article class="card mb-4 reveal reveal-delay-3">
            <header class="card-header bg-secondary text-white">
                <h2 class="h5 mb-0 section-head"><span class="icon-badge">üìö</span>S√©ries fixes d'examen</h2>
            </header>
            <div class="card-body">
                <p class="text-muted">Lance une s√©rie pr√©d√©finie de 30 questions.</p>
                <div id="fixed-series-list" class="row g-2"></div>
            </div>
        </article>

        <article class="card reveal reveal-delay-4">
            <header class="card-header bg-info text-white">
                <h2 class="h5 mb-0 section-head"><span class="icon-badge">üó∫Ô∏è</span>Probl√®me de navigation</h2>
            </header>
            <div class="card-body">
                <p>Travaille un cas complet : cartographie, mar√©e, route et s√©curit√©.</p>
                <p class="text-muted"><small>La carte 9999 est utile pour suivre toutes les √©tapes.</small></p>
                <button class="btn btn-info" id="start-navigation-problem-btn">D√©marrer le probl√®me</button>
                <a href="navigation.html" class="btn btn-outline-info ms-2">Voir le d√©tail du probl√®me</a>
            </div>
        </article>
    </section>

    <aside class="col-lg-4 reveal reveal-delay-3">
        <div class="card mb-4 reveal reveal-delay-3">
            <div class="card-header bg-light-subtle">
                <h2 class="h6 mb-0 section-head"><span class="icon-badge">üìä</span>Tes statistiques</h2>
            </div>
            <div class="card-body">
                <p class="mb-3"><strong>Historique r√©cent</strong></p>
                {{#examHistory}}
                <div class="mb-3 pb-3 border-bottom">
                    <small class="text-muted">{{date}}</small><br>
                    <strong>Score : {{score}}/100</strong>
                    <div class="progress mt-2" role="progressbar">
                        <div class="progress-bar {{scoreColor}}" style="width: {{scorePercent}}%"></div>
                    </div>
                </div>
                {{/examHistory}}
                {{^examHistory}}
                <p class="text-muted mb-0">Aucun examen enregistr√© pour le moment.</p>
                {{/examHistory}}
            </div>
        </div>

        <div class="card reveal reveal-delay-4">
            <div class="card-header bg-light-subtle">
                <h2 class="h6 mb-0 section-head"><span class="icon-badge">‚úÖ</span>Points cl√©s</h2>
            </div>
            <div class="card-body">
                <ul class="list-unstyled mb-0">
                    <li class="mb-2"><strong>5 fautes max</strong> au QCM</li>
                    <li class="mb-2"><strong>30 minutes</strong> de temps imparti</li>
                    <li class="mb-2"><strong>50%</strong> minimum en r√©gulation</li>
                    <li><strong>Mar√©es</strong> √† contr√¥ler syst√©matiquement</li>
                </ul>
            </div>
        </div>

        <div class="card mt-4 reveal reveal-delay-4">
            <div class="card-header bg-light-subtle">
                <h2 class="h6 mb-0 section-head"><span class="icon-badge">üóÇÔ∏è</span>Annales QCM</h2>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    {{#annalesQcmSessions}}
                    <li class="list-group-item px-0">
                        <strong>{{label}}</strong>
                        {{#hasCorrige}}<span class="badge text-bg-success ms-1">corrig√©</span>{{/hasCorrige}}
                        {{#answerKeyAvailable}}<span class="badge text-bg-info ms-1">cl√© docx</span>{{/answerKeyAvailable}}
                    </li>
                    {{/annalesQcmSessions}}
                </ul>
            </div>
        </div>
    </aside>
</div>
<script src="js/examens.js"></script>
